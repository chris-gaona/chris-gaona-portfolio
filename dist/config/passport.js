var passport=require("passport");var LocalStrategy=require("passport-local").Strategy;var mongoose=require("mongoose");var User=mongoose.model("User");passport.use(new LocalStrategy(function(r,e,s){User.findOne({username:r},function(r,a){if(r){return s(r)}if(!a){return s(null,false,{message:"Incorrect username."})}if(!a.validPassword(e)){return s(null,false,{message:"Incorrect password."})}return s(null,a)})}));